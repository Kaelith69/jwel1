body {
    font-family: 'Poppins', sans-serif;
    background: #181818;
    color: #fff;
    margin: 0;
}
/* Force dark form controls for better native dropdown visibility */
:root { color-scheme: dark; }
/* --- Global Styles --- */

body {
    font-family: 'Poppins', sans-serif;
    background: #181818;
    color: #fff;
    margin: 0;
}

.glass-panel {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    padding: 30px;
    max-width: 1400px;
    margin: 0 auto;
    box-sizing: border-box;
}

.admin-button {
    background: #4A90E2;
    color: #000;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s;
    min-width: 44px; /* Ensures touch target size */
    min-height: 44px; /* Ensures touch target size */
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.admin-button:hover {
    background: #3a7dca;
}

.admin-button:focus-visible,
select:focus-visible,
input:focus-visible,
textarea:focus-visible,
summary:focus-visible {
    outline:2px solid #4A90E2;
    outline-offset:2px;
}

.skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { left:8px; top:8px; width:auto; height:auto; background:#4A90E2; color:#000; padding:8px 12px; border-radius:6px; z-index:1000; }

.admin-button.secondary {
    background: rgba(255,255,255,0.2);
    color: #fff;
}
.admin-button.secondary:hover {
    background: rgba(255,255,255,0.4);
}
.admin-button.danger {
    background: #e53935;
    color: #fff;
}
.admin-button.danger:hover {
     background: #c62828;
}

.back-link {
    color: #fff;
    text-decoration: none;
    display: inline-block;
    margin-top: 20px;
}

/* --- Login Page --- */
.login-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.login-panel {
    width: 100%;
    max-width: 400px;
    text-align: center;
}

.login-panel h2 {
    margin-bottom: 20px;
}

.form-group {
    margin-bottom: 20px;
    text-align: left;
    max-width: 800px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-size: 1rem;
}

.form-group input {
    width: 100%;
    padding: 12px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 5px;
    color: #fff;
}

.error-message {
    color: #ff4d4d;
    margin-top: 15px;
    height: 20px;
}

/* --- Dashboard --- */
.admin-header {
    background: rgba(0,0,0,0.3);
    padding: 20px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.dashboard-container {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 30px;
    padding: 30px;
    align-items: start;
    max-width: 1600px;
    margin: 0 auto;
}

/* --- Simplified enhancements --- */
.top-bar { padding:16px 20px; display:flex; gap:16px; flex-wrap: wrap; }
.filter-group { display:flex; gap:8px; flex-wrap:wrap; width: 100%; }
.filter-group input, .filter-group select { padding:8px 10px; border-radius:6px; border:1px solid rgba(255,255,255,0.2); background:rgba(255,255,255,0.08); color:#fff; font:inherit; }
.filter-group select { min-width:140px; }
.filter-group input:focus, .filter-group select:focus { outline:2px solid #4A90E2; outline-offset:1px; }
.stat-chip { background:rgba(74,144,226,0.15); padding:6px 12px; border-radius:20px; font-size:.85rem; font-weight:600; }
#product-form-wrapper.collapsed { display:none; }
.image-select-group { border:1px solid rgba(255,255,255,0.15); padding:8px 10px; border-radius:8px; background:rgba(255,255,255,0.05); }
.image-select-group summary { cursor:pointer; list-style:none; font-weight:600; }
.image-select-group summary::-webkit-details-marker { display:none; }
.image-select-group[open] { background:rgba(255,255,255,0.08); }
.image-preview-wrapper { margin-top:10px; display:flex; flex-direction:column; gap:4px; }
.image-preview { max-width:140px; max-height:140px; object-fit:cover; border:1px solid rgba(255,255,255,0.2); border-radius:8px; display:none; }
.image-preview-placeholder { font-size:0.75em; opacity:.6; }
.preview-label { font-size:0.8em; opacity:.75; }
.visually-hidden { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
/* Upload & Drag-Drop */
.upload-split { display:flex; gap:14px; margin-top:12px; flex-wrap:wrap; }
.file-picker-group { display:flex; flex-direction:column; gap:4px; }
#imageFile { padding:8px 10px; background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.25); border-radius:8px; color:#fff; font:inherit; }
.image-dropzone { flex:1; min-width:220px; min-height:120px; border:2px dashed rgba(255,255,255,0.3); border-radius:12px; display:flex; align-items:center; justify-content:center; text-align:center; padding:10px; background:rgba(255,255,255,0.04); cursor:pointer; transition:border-color .25s, background .25s; }
.image-dropzone:hover, .image-dropzone:focus { border-color:#4A90E2; background:rgba(74,144,226,0.1); outline:none; }
.image-dropzone.drag-over { border-color:#4A90E2; background:rgba(74,144,226,0.18); }
.dz-instructions { font-size:0.72rem; line-height:1.3; opacity:.8; }
.hint { opacity:.65; font-size:0.7rem; }

@media (max-width:600px){
    .upload-split { flex-direction:column; }
    .image-dropzone { min-height:100px; }
}

/* Product cards grid */
.product-list { display:grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap:14px; }
.product-card { background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.15); border-radius:14px; padding:12px; display:flex; gap:12px; position:relative; }
.product-card:hover { border-color:rgba(74,144,226,0.6); box-shadow:0 0 0 1px rgba(74,144,226,0.4); }
.product-card:focus-within { border-color:#d4af37; box-shadow:0 0 0 1px #d4af37; }
.pl-img { width:72px; height:72px; border-radius:10px; object-fit:cover; flex-shrink:0; background:#222; display:block; }
.pl-img.placeholder { display:flex; align-items:center; justify-content:center; font-size:24px; opacity:.6; }
.pc-main { display:flex; flex-direction:column; gap:6px; width:100%; }
.pc-head { display:flex; justify-content:space-between; gap:6px; align-items:flex-start; }
.pc-head h4 { margin:0; font-size:1rem; line-height:1.2; flex:1; }
.pc-price { font-weight:600; font-size:.9rem; background:rgba(212,175,55,0.15); padding:2px 6px; border-radius:6px; }
.pc-meta { font-size:.7rem; text-transform:uppercase; letter-spacing:.08em; opacity:.7; }
.pc-actions { margin-top:auto; display:flex; gap:6px; }
.pc-actions .admin-button { padding:6px 10px; font-size:.75rem; }

.form-panel, .list-panel {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    box-sizing: border-box;
}

#product-form textarea {
    width: 100%;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 5px;
    color: #fff;
    resize: vertical;
}

.form-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

/* (Old product list styles removed in favor of cards) */

/* Orders list */
.orders-list .order-item {
    border:1px solid rgba(255,255,255,0.15);
    padding:12px;
    border-radius:10px;
    background:rgba(255,255,255,0.05);
    display:flex;
    flex-direction:column;
    gap:4px;
}
.orders-list .order-meta { display:flex; justify-content:space-between; font-size:0.9em; opacity:.85; }
.orders-list .order-items { font-size:0.95em; }
.orders-list .order-total { font-weight:600; margin-top:4px; }

.admin-header.with-nav { gap:24px; flex-wrap:wrap; }
.admin-nav ul { list-style:none; margin:0; padding:0; display:flex; gap:14px; }
.admin-nav a { color:#fff; text-decoration:none; padding:8px 14px; border-radius:8px; font-weight:600; display:block; background:rgba(255,255,255,0.08); font-size:0.9rem; }
.admin-nav a:hover, .admin-nav a:focus-visible { background:rgba(255,255,255,0.18); }
.admin-nav a[aria-current="page"] { background:#d4af37; color:#000; }
.admin-header-actions { display:flex; gap:10px; align-items:center; }
.page-container { padding:30px; display:flex; flex-direction:column; gap:30px; max-width:1600px; margin:0 auto; }
.panel-head { display:flex; align-items:center; gap:16px; justify-content:space-between; flex-wrap:wrap; }
.toolbar { display:flex; gap:10px; align-items:center; flex-wrap:wrap; width: 100%; }
.toolbar input[type="text"], .toolbar select, .toolbar input[type="date"] { padding:8px 10px; border-radius:6px; border:1px solid rgba(255,255,255,0.2); background:rgba(255,255,255,0.08); color:#fff; font:inherit; }

/* Enhanced dropdown (select) visibility */
select {
    background:#1d1d1d;
    color:#fff;
    border:1px solid #444;
    padding-right:34px;
    min-height:38px;
}
select:focus { border-color:#4A90E2; }
option { background:#1d1d1d; color:#fff; }
/* High contrast for hovered/selected options in some browsers */
@supports selector(option:checked) {
    option:checked { background:#333 !important; color:#fff !important; }
}
/* Windows specific clarity tweak */
@media screen and (-ms-high-contrast: active), screen and (forced-colors: active) {
    select, option { forced-color-adjust:none; }
}
.inline-stats { font-size:.85rem; opacity:.75; }
.table-wrapper { overflow-x:auto; margin-top:14px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-radius: 8px; }
.data-table { width:100%; border-collapse:collapse; font-size:0.9rem; }
.data-table thead { background:rgba(255,255,255,0.08); }
.data-table th, .data-table td { padding:14px 16px; text-align:left; border-bottom:1px solid rgba(255,255,255,0.12); vertical-align:top; }
.data-table tbody tr:hover { background:rgba(255,255,255,0.05); }
.products-table img { width:60px; height:60px; object-fit:cover; border-radius:8px; border:1px solid rgba(255,255,255,0.2); }
.badge { background:rgba(74,144,226,0.15); padding:2px 8px; border-radius:14px; font-size:0.7rem; text-transform:uppercase; letter-spacing:.05em; }
.actions-cell { display:flex; gap:6px; flex-wrap:wrap; }
.nowrap { white-space:nowrap; }
.clamp { max-width:320px; overflow:hidden; text-overflow:ellipsis; display:-webkit-box; -webkit-line-clamp:3; line-clamp:3; -webkit-box-orient:vertical; }
.form-row { 
    display:flex; 
    gap:20px; 
    flex-wrap:wrap; 
    margin-bottom: 20px;
}
.orders-table td { font-size:0.85rem; }
.orders-table .order-items-list { display:flex; flex-direction:column; gap:2px; margin:0; padding:0; list-style:none; }
.orders-table .order-items-list li { line-height:1.2; }
.orders-table .customer-block { font-size:0.72rem; opacity:.85; line-height:1.3; max-width:220px; }
.muted { opacity:.6; }
.truncate { max-width:160px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
/* Order status & KPI */
.status-badge { padding:2px 8px; border-radius:14px; font-size:0.65rem; font-weight:600; letter-spacing:.05em; text-transform:uppercase; display:inline-block; }
.status-pending { background:#005466; color:#72d5f5; }
.status-processing { background:#004a66; color:#7fd4ff; }
.status-shipped { background:#2e4d00; color:#b7f574; }
.status-delivered { background:#073f1e; color:#6fe0a0; }
.status-cancelled { background:#5a1010; color:#f7aaaa; }
.kpi-cards { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:14px; margin:18px 0 6px; }
.kpi-card { background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.15); border-radius:14px; padding:12px 14px; display:flex; flex-direction:column; gap:4px; }
.kpi-label { font-size:0.65rem; letter-spacing:.08em; text-transform:uppercase; opacity:.6; }
.kpi-value { font-size:1.1rem; font-weight:600; }
.kpi-sub { font-size:0.65rem; opacity:.6; }
.kpi-delivered { color:#6fe0a0; }
.kpi-cancelled { color:#f7aaaa; }
.status-select { background:rgba(255,255,255,0.08); color:#fff; border:1px solid rgba(255,255,255,0.25); border-radius:6px; font-size:0.65rem; padding:2px 4px; margin-right:4px; }
.status-select:focus { outline:2px solid #4A90E2; outline-offset:2px; }
/* Settings */
.settings-form input[type="text"] { width:100%; padding:10px; background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.3); border-radius:6px; color:#fff; }
.settings-form input[type="text"]:focus { outline:2px solid #4A90E2; outline-offset:2px; }
.orders-table tbody tr.data-row { cursor:pointer; }
.orders-table tbody tr.data-row:hover { background:rgba(255,255,255,0.08); }
.order-detail-row td { background:rgba(255,255,255,0.04); border-top:1px solid rgba(255,255,255,0.15); }
.order-detail { display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); }
.order-detail h4 { margin:0 0 6px; font-size:0.75rem; letter-spacing:.07em; text-transform:uppercase; opacity:.7; }
.od-items { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:4px; font-size:0.75rem; }
.od-items li { line-height:1.2; }
.od-customer, .od-meta { font-size:0.7rem; line-height:1.3; opacity:.85; }
.toggle-indicator { font-size:0.8rem; opacity:.5; margin-left:4px; }
@media (max-width:600px){ .order-detail { grid-template-columns:1fr; } }

@media (max-width: 900px) {
    .dashboard-container {
        grid-template-columns: 1fr;
    }
    .page-container { padding:18px; }
    .admin-nav ul { flex-wrap:wrap; }
}

@media (max-width: 600px) {
    .admin-header {
        flex-direction: column;
        align-items: flex-start;
        padding: 10px 8px;
        gap: 0.5rem;
    }
    .dashboard-container {
        padding: 10px 4px;
        gap: 10px;
    }
    /* Medium screen optimizations for search & category */
    .top-bar {
        padding: 12px 10px;
        gap: 10px;
    }
    .filter-group {
        gap: 6px;
    }
    .filter-group select {
        min-width: 120px;
        flex: 1;
    }
    .filter-group input {
        flex: 2;
    }
    /* Ensure buttons maintain proper touch target size */
    .admin-button {
        padding: 10px 14px;
    }
    .glass-panel, .form-panel, .list-panel, .login-panel {
        padding: 10px 4px;
        max-width: 100vw;
        width: 100%;
        min-width: 0;
        box-sizing: border-box;
    }
    .admin-button, .admin-button.secondary, .admin-button.danger {
        min-width: 44px;
        min-height: 44px;
        font-size: 0.98em;
        padding: 0.5em 1em;
    }
    .form-group input, #product-form textarea {
        font-size: 1em;
        padding: 8px;
    }
    .product-list { grid-template-columns: repeat(auto-fill, minmax(200px,1fr)); }
    .product-card { padding:10px; }
    .pl-img { width:64px; height:64px; }
    .login-panel {
        padding: 10px 4px;
    }
    .data-table th, .data-table td { padding:8px 8px; }
    .customer-block { max-width:160px; }

    /* Dashboard refinements */
    .dashboard-container { display:grid; grid-template-columns:repeat(auto-fit,minmax(340px,1fr)); gap:26px; align-items:start; }
    .dashboard-kpis .kpi-card { min-height:86px; }
    .compact-table th, .compact-table td { padding:6px 10px; font-size:0.7rem; }
    .compact-table tbody tr:hover { background:rgba(255,255,255,0.05); }
    .compact-table { width:100%; border-collapse:collapse; }
    .compact-table thead { background:rgba(255,255,255,0.05); }
    .compact-table th { font-weight:600; letter-spacing:.05em; text-transform:uppercase; font-size:0.6rem; }
    /* Sparkline */
    .sparkline-wrapper { margin-top:6px; height:38px; }
    .sparkline { width:100%; height:38px; overflow:visible; }
    .sparkline path.line { fill:none; stroke:#4A90E2; stroke-width:2; vector-effect:non-scaling-stroke; }
    .sparkline path.area { fill:rgba(74,144,226,0.18); stroke:none; }
    .sparkline circle.dot { fill:#4A90E2; stroke:#181818; stroke-width:1; }
    .sparkline text.minimax { font-size:6px; fill:#aaa; }
}

@media (max-width: 400px) {
    html {
        font-size: 14px;
    }
    body {
        overflow-x: hidden;
    }
    .admin-header {
        padding: 6px 4px;
        gap: 0.3rem;
        flex-wrap: wrap;
    }
    /* Optimize search and category fields for mobile */
    .filter-group {
        flex-direction: column;
        width: 100%;
    }
    .filter-group input, 
    .filter-group select {
        width: 100%;
        box-sizing: border-box;
        min-height: 44px;
    }
    .toolbar {
        flex-direction: column;
        align-items: stretch;
    }
    .toolbar input[type="text"],
    .toolbar select,
    .toolbar input[type="date"] {
        width: 100%;
        box-sizing: border-box;
        min-height: 44px;
    }
    /* Ensure buttons are properly sized for touch targets */
    .admin-button.secondary {
        width: 100%;
        margin-top: 8px;
    }
    .dashboard-container {
        padding: 4px 2px;
        gap: 6px;
    }
    .glass-panel, .form-panel, .list-panel, .login-panel {
        padding: 8px 4px;
        min-width: 0;
        width: 100%;
        box-sizing: border-box;
    }
    .admin-button, .admin-button.secondary, .admin-button.danger {
        font-size: 0.9em;
        padding: 0.4em 0.6em;
        min-width: 44px;
        min-height: 44px;
        margin: 2px;
    }
    .form-group {
        margin-bottom: 12px;
    }
    .form-group label {
        font-size: 0.9em;
        margin-bottom: 4px;
    }
    .form-group input, #product-form textarea, .form-group select {
        font-size: 1em;
        padding: 8px;
        width: 100%;
        box-sizing: border-box;
    }
    .product-list { grid-template-columns: repeat(auto-fill, minmax(160px,1fr)); gap:8px; }
    .product-card { padding:8px; gap:8px; }
    .pl-img { width:56px; height:56px; }
    .form-actions {
        flex-direction: column;
        gap: 6px;
    }
    .login-container {
        padding: 10px;
    }
    /* Prevent horizontal overflow */
    .dashboard-container, .login-container {
        max-width: 100vw;
        overflow-x: hidden;
    }
}

/* Extra small devices */
@media (max-width: 320px) {
    html {
        font-size: 13px;
    }
    .admin-header {
        padding: 4px 2px;
        gap: 0.2rem;
    }
    .admin-header h1 {
        font-size: 1.2rem;
    }
    .dashboard-container {
        padding: 2px 1px;
        gap: 4px;
    }
    .glass-panel, .form-panel, .list-panel, .login-panel {
        padding: 6px 2px;
    }
    .admin-button, .admin-button.secondary, .admin-button.danger {
        font-size: 0.85em;
        padding: 0.3em 0.4em;
        min-width: 40px;
        min-height: 40px;
    }
    .form-group input, #product-form textarea, .form-group select {
        font-size: 0.9em;
        padding: 6px;
    }
    .product-card { padding:6px; }
    .pc-head h4 { font-size:0.9em; }
    .back-link {
        font-size: 0.85em;
    }
}

/* Large Desktop Screens */
@media (min-width: 1600px) {
    .page-container {
        padding: 40px;
        gap: 40px;
        max-width: 1800px;
    }
    
    .dashboard-container {
        grid-template-columns: 450px 1fr;
        gap: 40px;
        padding: 40px;
        max-width: 1800px;
    }
    
    .glass-panel, .form-panel, .list-panel {
        padding: 40px;
        max-width: 1600px;
    }
    
    .data-table {
        font-size: 1rem;
    }
    
    .data-table th, .data-table td {
        padding: 16px 20px;
    }
    
    .admin-button {
        font-size: 1.05rem;
        padding: 14px 24px;
    }
    
    .form-group label {
        font-size: 1.1rem;
        margin-bottom: 10px;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
        padding: 14px;
        font-size: 1.05rem;
    }
}